#import "/module/module.typ": *
#show: module

#tag("orientation-of-real-linear-space") $‚Ñù^n$ direction

$A in GL(n,‚Ñù), det A != 0$

$‚Ñù ‚àñ 0 = ‚Ñù_(< 0) ‚äî ‚Ñù_(> 0)$

$GL(n,‚Ñù) = det^(-1)(‚Ñù_(< 0)) ‚äî det^(-1)(‚Ñù_(> 0))$

There are two directions. for vector base of $‚Ñù^n$, change order once $e_i <-> e_j$ change orientable, introduce a $-1$ factor. This is somewhat similar to alternating-tensor. orientation defined as quotient of vector base with same orientation. equivalent to decompose of $GL(n,‚Ñù)$ $det^(-1)(‚Ñù_(< 0)) ‚äî det^(-1)(‚Ñù_(> 0))$

#tag("orientation-of-boundary-of-simplex") 
#indent[
  simplx oriented boundary. The direction of the boundary ${x_0 ,‚Ä¶, x_n}$ of simplex ${x_0 ,‚Ä¶, x_n without x_i}$ is to define the direction for the $n-1$ affine subspace where the boundary is located, such that the interior $A$ is in the $n$-dimensional positive direction and the exterior $A^‚àÅ$ is in the $n$-dimensional negative direction 

  If we continue to define the direction for the boundary of the boundary, we will find that adjacent directions cancel out

  simplex vertices can construct a directed basis of $‚Ñù^n$ according to $x_0 -> x_1 -> ‚ãØ -> x_n$. Permutations make the directions differ by $sign(Œº)$

  After selecting $x_0 ,‚Ä¶, x_n$ to be the positive direction of $‚Ñù^n$, the direction of the boundary is $(-1)^(i-1) x_0 ,‚Ä¶, x_n without x_i$

  similar to box

  *Example* Tetrahedron, right-hand rule, with the thumb pointing towards the inside of the tetrahedron to get the boundary direction (the index of the vertices in the picture starts from $1$ instead of $0$)

  #image("/image/orientation-of-simplex.jpg", width: 100%)
]
#tag("orientable-low-dim-polyhera") Polyhedron #link(<orientation-of-boundary-of-simplex>)[Orientable] is defined as: when constructing a polyhedron with simplexes, it is possible to define compatible orientations for all $k$ simplexes, such that the adjacent two $k$ simplexes $A, B$ have compatible orientations on their $k-1$ intersecting boundary simplexes, i.e., the orientation $O$ corresponds to the interior of simplex $A$ and the exterior of simplex $B$. The orientation $-O$ corresponds to the interior of simplex $B$ and the exterior of simplex $A$. i.e., simplex partition has well-defined interior and exterior.

#tag("Mobius-strip") *Example* Non-orientable Mobius-type polyhedron (image modified from wiki)

#image("../image/Moebius.svg", width: 50%)

No matter how the direction of each $k$ simplex is defined, there exists a pair of adjacent $k$ simplex $A,B$ whose $k-1$ connected boundary simplex directions are incompatible. i.e. Simplex partitioning has no well-defined inside and outside

Starting from the initial $k$ simplex, continuously and transitively defining compatible directions for adjacent $k$ simplexes, going around in a circle will lead to incompatible directions of the connected boundary simplex. Direction $O$ corresponds to the inside of $A,B$, direction $-O$ corresponds to the outside of $A,B$

#tag("simplex-chain") simplex chain

#tag("boundary-operator") 
#indent[
  Boundary operator $‚àÇ$

  boundary $c_k = ‚àÇ_(k+1) c_(k+1)$

  *Example* 

  - boundary-op-not-injective

    #image("/image/boundary-op-not-injective-1.jpg", width: 70%)

    #image("/image/boundary-op-not-injective-2.jpeg", width: 80%)

  - #tag("tri-intersect-boundary")

    #image("/image/tri-intersect-boundary.jpg", width: 40%)

  cycle $‚àÇ c = 0$

  $‚àÇ^2 = 0$ or $‚àÇ_k ‚àÇ_(k+1) = 0$

  $im ‚àÇ ‚äÇ ker ‚àÇ$ or $im ‚àÇ_(k+1) ‚äÇ ker ‚àÇ_k$
]
#tag("simplex-homology") 
#indent[
  k-th homology $H_k (‚Ñù^n) = (ker ‚àÇ_k)/(im ‚àÇ_(k+1))$

  where $ker ‚àÇ_k, im ‚àÇ_(k+1)$ are in $k$ chain space

  Due to geometric meaning, only $‚Ñ§$ coefficients are needed
]
#tag("real-linear-space-trivial-homology") 
#indent[
  $‚Ñù^n$ is trivial homology $forall k = 1 ,‚Ä¶, n, H_k (‚Ñù^n) = 0$ or $ker ‚àÇ_k = im ‚àÇ_(k+1)$ or in $‚Ñù^n$, the boundary of $c$ is zero <==> $c$ is a boundary

  Try to prove it by purely affine orientation & combinatorics technique, avoid Euclidean topology
]
#tag("existence-and-uniqueness-of-n-simplex-chain-with-boundary") 
#indent[
  in $‚Ñù^n$, uniqueness $n$ chain of $n-1$ boundary

  $ H_n = 0 ==> ker ‚àÇ_n = im ‚àÇ_(n+1) = 0 $

  so existence of boundary of nonzero $n$ chain
  $ 
    forall c in C_n, ‚àÇ c = 0 
    &==> c in ker ‚àÇ_n = 0 \
    &==> c = 0 
  $
  and uniqueness of $n$ dim region surround by $codim = 1$ boundary
  $
    (c,c' in C_n) and (‚àÇ_n c = ‚àÇ_n c') &==> ‚àÇ_n (c-c') = 0 \
    &==> c - c' in ker ‚àÇ_n = 0 \
    &==> c=c'
  $
]
#show "Œ¥": it => text(it, fill: rgb("#d25b00"))

#tag("homology-hole") For a set $‚Ñù^n$ minus a finite number or a countable number of separated linear subspaces or polyhedra, homology is not zero

#image("../image/homology-hole.jpeg", width: 100%)

simplex divergence operator as the dual of the boundary operator $‚ü® ‚àÇ œÉ , œâ ‚ü© = ‚ü® œÉ , ‚àÇ^‚Ä† œâ ‚ü©$ for $k$ simplex $œÉ$ & simplicial $k-1$ form $œâ$ on $‚àÇ œÉ$. (Consider modifying the notation of the boundary operator to avoid conflict with the differential notation)

#tag("homology-divergence-operator") When $k = n$, there is only one choice $‚àÇ^‚Ä† œâ = frac(integral_(‚àÇ œÉ) œâ,Vol(œÉ)) Vol$. recall $n$ form is equivalent to a scalar function

It may be difficult to deal with when $k < n$

For micro-molecular manifolds, it becomes easier to handle. At this time, the divergence operator analogue is the exterior derivative operator $#d$. Intuitively, it's some kind of $#d œâ (x) = lim_(œÉ -> x) frac(integral_(‚àÇ œÉ) œâ,Vol(œÉ)) Vol$, where $Vol$ is the volume on the manifold. $œÉ$ is not limited to simplex, but a large class of regions

*Question* Even if $Vol$ is not yet defined on the manifold or the metric is not yet defined, this formula can obtain the result in the coordinate system using only the $Vol$ of the box (including the $Vol$ of the lower dimension boundary), the definition of $n$ form $#d œâ$ is coordinate-independent. In other words, the definition of the exterior derivative does not depend on the selection of volume form or metric, but only on the differential structure of the manifold. Conversely, the volume form in the coordinates can also be extended to the entire manifold

#tag("exterior-differential") 
#indent[
  Calculate $#d œâ (x) = lim_(œÉ -> x) frac(integral_(‚àÇ œÉ) œâ,Vol(œÉ)) Vol$ using box in coordinates, all coordinates tend to $0$, each coordinate axis direction becomes calculating partial derivatives $‚àÇ_i$ of certain things 
  
  The result is $#d œâ = #d (œâ_(i_1  i_k) #d x^(i_1) ‚àß ‚ãØ ‚àß #d x^(i_k)) = ‚àÇ_(i) œâ_(i_1  i_k) #d x^i ‚àß #d x^(i_1) ‚àß ‚ãØ ‚àß #d x^(i_k)$
  
  Further simplification is omitted for now

  *Question* Under the simplex center affine coordinates, what is the form of the exterior derivative?
]
#tag("Stokes-theorem") 
#indent[
  for #link(<orientable>)[] almost everywhere analytic manifolds with boundary, Stokes' theorem $integral_(‚àÇ M) œâ = integral_(M) #d œâ$ or $‚ü® ‚àÇ M , œâ ‚ü© = ‚ü® M , #d œâ ‚ü©$
]
Perhaps it seems strange at first glance, but this is effective, first infinitesimal $#d œâ := lim_(œÉ -> x) frac(integral_(‚àÇ œÉ) œâ,Vol(œÉ))$ then integral $integral #d œâ := lim sum ‚ãØ$, but the fundamental theorem of one-dimensional calculus is like this

But the division of one-dimensional intervals, the boundary of one-dimensional intervals, and the integral of the boundary of one-dimensional intervals are all too simple, and high dimensions are not that simple

For high dimensions, if it's curved, it's very difficult. First deal with straight things i.e. simplex or parallelepiped. The partition is also of the same type of region, and boundary cancellation is also very simple. Then, similar to one dimension, use the differential mean value theorem to approximate compact control. This proves Stokes' Theorem for $‚Ñù^n$ simplex or parallelepiped.

#tag("Stokes-theorem-proof") *Question*
#indent[
  use the approximation method used in defining #link(<integral-on-manfold>)[]

  Use countable + linear approximation + partition limit that used in the definition of form integral on manifold #link(<integral-on-manfold>)[] 

  Approximately decompose into simplex or box, then use Stokes theorem of simplex + internal boundary cancellation, only the real boundary of manifold is left

  Need to use $n-1$ form $œâ$ and #link(<integral-on-submanfold>)[]

  Approximation on the boundary may require special attention. For example, approximations on boundaries shoud use simplex (box) centered on the boundary and differential at points on the boundary.

  Probably need some kind of Sobolev control?
]
I have not deal with the Stokes theorem for manifold without boundary, have not define $‚àÇ M := ‚àÖ and integral_(‚àÇ M) œâ := integral_(‚àÖ) œâ = 0$. *Example* of manifold without $‚Ñù^n$

Correspondence between boundary operator and exterior derivative

homology

cohomology

#tag("coboundary-operator") 
#indent[
  coboundary $œâ_k = #d _(k-1) œâ_(k-1)$

  cocycle $#d œâ = 0$. Intuitively, the divergence of the form at this point is zero

  $#d^2 = 0$ or $#d _k #d _(k-1) = 0$

  $im #d ‚äÇ ker #d$ or $im #d _(k-1) ‚äÇ ker #d _k$
]
#tag("de-Rham-cohomolgy") k-th de Rham cohomology $H^k (M) = (ker #d _k)/(im #d _(k-1))$

in $‚Ñù^n$, cohomology trivial $forall k = 1 ,‚Ä¶, n, H^k = 0$

#tag("cohomology-hole") form with "hole". *Example* in $‚Ñù^2$, $#d 1/r$ or $(-x_2)/(|x|^2) #d x_1 + (x_1)/(|x|^2) #d x^2$ has a singularity at $x = 0$. In non-$‚Ñù^n$ manifolds, the form and Stokes' theorem can reveal the holes in the manifold even if the function has no singularities. *Example* $ùïä^1$ or $ùïä^1 √ó ùïä^1$

The case of metric manifolds

The integral of the $k$ form $œâ$ is equivalent to the integral of $‚ü® œâ , Vol_k ‚ü© Vol_k$

#tag("Hodge-star") 
#indent[
  Hodge star operator as the orthogonal complement dual of the form

  $‚ãÜ : (‚ãÄ^k ‚Ñù^n)^‚ä∫ -> (‚ãÄ^(n-k) ‚Ñù^n)^‚ä∫$ 

  $‚ãÜ œâ$ with $œâ ‚àß ‚ãÜ œâ = ‚ü® œâ , œâ ‚ü© Vol_n$ ==> $œâ ‚àß ‚ãÜ Œ∑ = ‚ü® œâ , Œ∑ ‚ü© Vol_n$

  $‚ãÜ^2 = ùüô$ ==> $‚ü® œâ , Œ∑ ‚ü© = ‚ü® ‚ãÜ œâ , ‚ãÜ Œ∑ ‚ü©$

  $‚ãÜ Vol_k = Vol_(n-k)$
]
#tag("flux") 
#indent[
  Integral of $k$ form $œâ$ -> Integral of $‚ü® œâ , Vol_k ‚ü© Vol_k$ -> Integral of $‚ü® ‚ãÜ œâ, ‚ãÜ Vol_(n-k) ‚ü© Vol_k$, interpreted as the quantity $‚ü® ‚ãÜ œâ , Vol_(n-k) ‚ü©$ of the orthogonal complement $‚ãÜ Vol_k = Vol_(n-k)$ of $Vol_k$ integrated over $Vol_k$, i.e. flux

  Represent the flux $n-k$ alternating tensor using the inner product duality $bra(‚ãÜ œâ), bra(Vol_(n-1)) in ‚ãÄ^(n-k) ‚Ñù^n$, the inner product represents the orthogonal projection of the quantity $bra(‚ãÜ œâ)$ onto the flux direction $bra(Vol_(n-1))$
]
*Example* in Euclidean $‚Ñù^3$, $‚ãÄ^1 ‚Ñù^3 ‚âÉ ‚ãÄ^2 ‚Ñù^3 ‚âÉ ‚Ñù^3$.

- $0$ form
#indent[
  $#d œâ in (‚ãÄ^1 ‚Ñù^3)^‚ä∫ <--> bra(‚ãÜ #d œâ) = grad œâ in ‚ãÄ^2 ‚Ñù^3$

  Coordinates $ grad f = vec(‚àÇ_1 f, ‚àÇ_2 f, ‚àÇ_3 f) $

  Stokes' theorem #tag("gradient")
  $
    œâ(x_1) - œâ(x_0) 
    &= integral_(‚àÇ M) œâ \
    &= integral_M #d œâ \
    &= integral_l ‚ü® grad œâ , #d l ‚ü©
  $
]
- $1$ form
#indent[  
  $#d œâ in ‚ãÄ^2 ‚Ñù^3 <--> bra(‚ãÜ #d œâ) = curl bra(œâ) in ‚ãÄ^1 ‚Ñù^3$

  Coordinates $ curl vec(v_1,v_2,v_3) = vec(‚àÇ_2 v_3 - ‚àÇ_3 v_2, ‚àÇ_3 v_1 - ‚àÇ_1 v_3, ‚àÇ_1 v_2 - ‚àÇ_2 v_1) $

  $bra(œâ) in ‚ãÄ^1 ‚Ñù^3$

  Stokes' Theorem #tag("curl")
  $
    integral_(‚àÇ S) ‚ü® bra(œâ) , #d l ‚ü© 
    &= integral_(‚àÇ M) œâ \
    &= integral_M #d œâ \
    &= integral_S ‚ü® curl bra(œâ) , #d S ‚ü©
  $
  where $n = ‚ãÜ Vol_2 = Vol_1$
]
- $2$ form
#indent[  
  $#d œâ in ‚ãÄ^3 ‚Ñù^3 <--> bra(‚ãÜ #d œâ) = div bra(œâ) in ‚ãÄ^0 ‚Ñù^3$

  Coordinates $ div vec(v_1,v_2,v_3) = ‚àÇ_1 v_1 + ‚àÇ_2 v_2 + ‚àÇ_3 v_3 $

  $bra(œâ) in ‚ãÄ^2 ‚Ñù^3$

  Stokes' Theorem #tag("divergence")
  $
    integral_(‚àÇ V) ‚ü® bra(œâ) , #d S ‚ü©
    &= integral_(‚àÇ M) œâ \
    &= integral_M #d œâ \
    &= integral_V ‚ü® div bra(œâ) , #d V ‚ü© 
  $
]
in Minkowski $‚Ñù^(1,3)$, $‚ãÄ^2 ‚Ñù^(1,3) ‚âÉ ‚ãÄ^(4-2) ‚Ñù^(1,3)$